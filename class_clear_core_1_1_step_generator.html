<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ClearCore Library: ClearCore::StepGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ClearCore Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_clear_core.html">ClearCore</a></li><li class="navelem"><a class="el" href="class_clear_core_1_1_step_generator.html">StepGenerator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_clear_core_1_1_step_generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ClearCore::StepGenerator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> motor motion generator class.  
 <a href="class_clear_core_1_1_step_generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_step_generator_8h_source.html">StepGenerator.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for ClearCore::StepGenerator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_clear_core_1_1_step_generator__inherit__graph.png" border="0" usemap="#_clear_core_1_1_step_generator_inherit__map" alt="Inheritance graph"/></div>
<map name="_clear_core_1_1_step_generator_inherit__map" id="_clear_core_1_1_step_generator_inherit__map">
<area shape="rect" id="node2" href="class_clear_core_1_1_motor_driver.html" title="ClearCore motor connector class. " alt="" coords="15,80,183,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad70755464aec3c66c41e057b6a40adc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad70755464aec3c66c41e057b6a40adc6"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>MoveTarget</b> { <b>MOVE_TARGET_ABSOLUTE</b>, 
<b>MOVE_TARGET_REL_END_POSN</b>
 }</td></tr>
<tr class="separator:ad70755464aec3c66c41e057b6a40adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acd18608d0670c5e8dc3ad2aee2449777"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#acd18608d0670c5e8dc3ad2aee2449777">Move</a> (int32_t dist, MoveTarget moveTarget=MOVE_TARGET_REL_END_POSN)</td></tr>
<tr class="memdesc:acd18608d0670c5e8dc3ad2aee2449777"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issues a positional move for the specified distance.  <a href="#acd18608d0670c5e8dc3ad2aee2449777">More...</a><br /></td></tr>
<tr class="separator:acd18608d0670c5e8dc3ad2aee2449777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8816284ccdb5952d7c07c5a727dcece8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#a8816284ccdb5952d7c07c5a727dcece8">MoveVelocity</a> (int32_t velocity)</td></tr>
<tr class="memdesc:a8816284ccdb5952d7c07c5a727dcece8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issues a velocity move at the specified velocity.  <a href="#a8816284ccdb5952d7c07c5a727dcece8">More...</a><br /></td></tr>
<tr class="separator:a8816284ccdb5952d7c07c5a727dcece8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0245968be5cd3af163c90890c227b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#aaf0245968be5cd3af163c90890c227b6">MoveStopAbrupt</a> ()</td></tr>
<tr class="separator:aaf0245968be5cd3af163c90890c227b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdb443de53a19e0652ccdaea78a2996"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#a2fdb443de53a19e0652ccdaea78a2996">MoveStopDecel</a> (uint32_t decelMax=0)</td></tr>
<tr class="separator:a2fdb443de53a19e0652ccdaea78a2996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e9a149ff7bc1865425a71816e0d246"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#a15e9a149ff7bc1865425a71816e0d246">PositionRefSet</a> (int32_t posn)</td></tr>
<tr class="memdesc:a15e9a149ff7bc1865425a71816e0d246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the absolute commanded position to the given value.  <a href="#a15e9a149ff7bc1865425a71816e0d246">More...</a><br /></td></tr>
<tr class="separator:a15e9a149ff7bc1865425a71816e0d246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0623233c26af3984c5ccd9b01133ea4"><td class="memItemLeft" align="right" valign="top">volatile const int32_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#ab0623233c26af3984c5ccd9b01133ea4">PositionRefCommanded</a> ()</td></tr>
<tr class="memdesc:ab0623233c26af3984c5ccd9b01133ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the <a class="el" href="class_clear_core_1_1_step_generator.html" title="ClearCore motor motion generator class. ">StepGenerator</a>'s position reference.  <a href="#ab0623233c26af3984c5ccd9b01133ea4">More...</a><br /></td></tr>
<tr class="separator:ab0623233c26af3984c5ccd9b01133ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae854c54641c6d3f8b1a075c26eac04f4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#ae854c54641c6d3f8b1a075c26eac04f4">VelocityRefCommanded</a> ()</td></tr>
<tr class="memdesc:ae854c54641c6d3f8b1a075c26eac04f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the <a class="el" href="class_clear_core_1_1_step_generator.html" title="ClearCore motor motion generator class. ">StepGenerator</a>'s momentary velocity.  <a href="#ae854c54641c6d3f8b1a075c26eac04f4">More...</a><br /></td></tr>
<tr class="separator:ae854c54641c6d3f8b1a075c26eac04f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf0ee47005b410ac29a3d4e200fea440"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#adf0ee47005b410ac29a3d4e200fea440">VelMax</a> (uint32_t velMax)</td></tr>
<tr class="memdesc:adf0ee47005b410ac29a3d4e200fea440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum velocity for position moves, in step pulses per second.  <a href="#adf0ee47005b410ac29a3d4e200fea440">More...</a><br /></td></tr>
<tr class="separator:adf0ee47005b410ac29a3d4e200fea440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab50860cec54ba7388f97174f8faf1f3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#ab50860cec54ba7388f97174f8faf1f3d">AccelMax</a> (uint32_t accelMax)</td></tr>
<tr class="memdesc:ab50860cec54ba7388f97174f8faf1f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum acceleration in step pulses per second^2.  <a href="#ab50860cec54ba7388f97174f8faf1f3d">More...</a><br /></td></tr>
<tr class="separator:ab50860cec54ba7388f97174f8faf1f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab639e63317a490b23713eeab09744810"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#ab639e63317a490b23713eeab09744810">EStopDecelMax</a> (uint32_t decelMax)</td></tr>
<tr class="memdesc:ab639e63317a490b23713eeab09744810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum deceleration for E-stop Deceleration in step pulses per second^2. This is only for MoveStopDecel.  <a href="#ab639e63317a490b23713eeab09744810">More...</a><br /></td></tr>
<tr class="separator:ab639e63317a490b23713eeab09744810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4dea531c378cbcd936e658c7c1ad6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#afa4dea531c378cbcd936e658c7c1ad6a">StepsComplete</a> ()</td></tr>
<tr class="memdesc:afa4dea531c378cbcd936e658c7c1ad6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check if no steps are currently being commanded to the motor.  <a href="#afa4dea531c378cbcd936e658c7c1ad6a">More...</a><br /></td></tr>
<tr class="separator:afa4dea531c378cbcd936e658c7c1ad6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976f3110b44dd2efbff2ebd469cde01b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_step_generator.html#a976f3110b44dd2efbff2ebd469cde01b">CruiseVelocityReached</a> ()</td></tr>
<tr class="memdesc:a976f3110b44dd2efbff2ebd469cde01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check if the commanded move is at the cruising velocity - Acceleration portion of movement has finished.  <a href="#a976f3110b44dd2efbff2ebd469cde01b">More...</a><br /></td></tr>
<tr class="separator:a976f3110b44dd2efbff2ebd469cde01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> motor motion generator class. </p>
<p>This class manages the generation and communication of movement profiles for the <a class="el" href="class_clear_core_1_1_motor_driver.html" title="ClearCore motor connector class. ">MotorDriver</a> connectors.</p>
<p>For more detailed information on the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> Motor Control and Motion Generation systems, check out the <a class="el" href="MotorDriverMain.html">Motor Control System</a> and <a class="el" href="MoveGen.html">Step and Direction Control</a> informational pages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab50860cec54ba7388f97174f8faf1f3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::AccelMax </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>accelMax</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum acceleration in step pulses per second^2. </p>
<p>Value will be clipped if out of bounds</p>
<div class="fragment"><div class="line"><span class="comment">// Set the StepGenerator&#39;s maximum velocity to 15000 step pulses/sec^2</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#ab50860cec54ba7388f97174f8faf1f3d">AccelMax</a>(15000);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accelMax</td><td>The new acceleration limit </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_encoder_input_examples_2_follow_encoder_2_follow_encoder_8cpp-example.html#a10">EncoderInputExamples/FollowEncoder/FollowEncoder.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a976f3110b44dd2efbff2ebd469cde01b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ClearCore::StepGenerator::CruiseVelocityReached </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to check if the commanded move is at the cruising velocity - Acceleration portion of movement has finished. </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#a976f3110b44dd2efbff2ebd469cde01b">CruiseVelocityReached</a>) {</div><div class="line">    <span class="comment">// The commanded move is at the cruising velocity</span></div><div class="line">}</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Returns true if there the move is in the cruise state </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The motor will still need to decelerate after cruising </dd></dl>

</div>
</div>
<a class="anchor" id="ab639e63317a490b23713eeab09744810"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::EStopDecelMax </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>decelMax</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum deceleration for E-stop Deceleration in step pulses per second^2. This is only for MoveStopDecel. </p>
<p>Value will be clipped if out of bounds</p>
<div class="fragment"><div class="line"><span class="comment">// Set the StepGenerator&#39;s maximum E-stop deceleration to 15000 step pulses/sec^2</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#ab639e63317a490b23713eeab09744810">EStopDecelMax</a>(15000);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decelMax</td><td>The new e-stop deceleration limit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd18608d0670c5e8dc3ad2aee2449777"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ClearCore::StepGenerator::Move </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MoveTarget&#160;</td>
          <td class="paramname"><em>moveTarget</em> = <code>MOVE_TARGET_REL_END_POSN</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Issues a positional move for the specified distance. </p>
<dl class="section note"><dt>Note</dt><dd>When making absolute moves, <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> tracks the current position based on the zero position at program-start. If there is a move in progress when a new move is issued, the target position will be adjusted according to the <em>moveTarget</em> parameter, the new acceleration and velocity limits will be applied, and the new move is merged seamlessly with the previous motion. If you want to make sure that the previous move fully completes without being merged with a new command, wait for <a class="el" href="class_clear_core_1_1_step_generator.html#afa4dea531c378cbcd936e658c7c1ad6a" title="Function to check if no steps are currently being commanded to the motor. ">StepsComplete()</a> to return true.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Interrupt any on-going move and move to the absolute position 5000</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_motor_driver.html#aff3166d7fe0f0797625708e6281a4398">Move</a>(5000, StepGenerator::MOVE_TARGET_ABSOLUTE);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dist</td><td>The distance of the move in step pulses </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">moveTarget</td><td>(optional) Specify the type of movement that should be done. Absolute or relative to the end position of the current move. Invalid will result in move relative to the end position. Default: MOVE_TARGET_REL_END_POSN</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For use with Step and Direction mode. </dd></dl>

<p>Reimplemented in <a class="el" href="class_clear_core_1_1_motor_driver.html#aff3166d7fe0f0797625708e6281a4398">ClearCore::MotorDriver</a>.</p>

</div>
</div>
<a class="anchor" id="aaf0245968be5cd3af163c90890c227b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::MoveStopAbrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupts the current move; the motor may stop abruptly.</p>
<div class="fragment"><div class="line"><span class="comment">// Command an abrupt stop</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#aaf0245968be5cd3af163c90890c227b6">MoveStopAbrupt</a>();</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a2fdb443de53a19e0652ccdaea78a2996"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::MoveStopDecel </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>decelMax</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupts any current move and commands the motor to stop. The stopping acceleration used will be the higher of either</p><ul>
<li>1) the move's current acceleration rate, or</li>
<li>2) the value of <a class="el" href="class_clear_core_1_1_step_generator.html#ab639e63317a490b23713eeab09744810" title="Sets the maximum deceleration for E-stop Deceleration in step pulses per second^2. This is only for MoveStopDecel. ">EStopDecelMax</a>.</li>
</ul>
<p>This function's <em>decelMax</em> parameter can be used to update the <a class="el" href="class_clear_core_1_1_step_generator.html#ab639e63317a490b23713eeab09744810" title="Sets the maximum deceleration for E-stop Deceleration in step pulses per second^2. This is only for MoveStopDecel. ">EStopDecelMax</a> value used for stopping.</p>
<div class="fragment"><div class="line"><span class="comment">// Ramp to a stop at a decel rate of 100000 pulses/sec^2</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#a2fdb443de53a19e0652ccdaea78a2996">MoveStopDecel</a>(100000);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decelMax</td><td>The new EStop deceleration rate to set instead of the value that was set prior to issuing the move. Passing 0 maintains the EStopDecelMax that was previously set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8816284ccdb5952d7c07c5a727dcece8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ClearCore::StepGenerator::MoveVelocity </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>velocity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Issues a velocity move at the specified velocity. </p>
<div class="fragment"><div class="line"><span class="comment">// Perform a velocity move</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_motor_driver.html#a7113228b203a6ebce7d41396bf9d4d44">MoveVelocity</a>(500);</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Any existing move will be immediately overwritten with the new velocity.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">velocity</td><td>The velocity of the move in step pulses/second.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For use with Step and Direction mode. </dd></dl>

<p>Reimplemented in <a class="el" href="class_clear_core_1_1_motor_driver.html#a7113228b203a6ebce7d41396bf9d4d44">ClearCore::MotorDriver</a>.</p>

</div>
</div>
<a class="anchor" id="ab0623233c26af3984c5ccd9b01133ea4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile const int32_t&amp; ClearCore::StepGenerator::PositionRefCommanded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor for the <a class="el" href="class_clear_core_1_1_step_generator.html" title="ClearCore motor motion generator class. ">StepGenerator</a>'s position reference. </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#ab0623233c26af3984c5ccd9b01133ea4">PositionRefCommanded</a>() &gt; 5000) {</div><div class="line">    <span class="comment">// M-0&#39;s position reference is above 5000</span></div><div class="line">}</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Returns the absolute commanded position. </dd></dl>

</div>
</div>
<a class="anchor" id="a15e9a149ff7bc1865425a71816e0d246"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::PositionRefSet </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>posn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the absolute commanded position to the given value. </p>
<div class="fragment"><div class="line"><span class="comment">// Set the StepGenerator&#39;s position reference to -5000</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#a15e9a149ff7bc1865425a71816e0d246">PositionRefSet</a>(-5000);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">posn</td><td>The new position to be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afa4dea531c378cbcd936e658c7c1ad6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ClearCore::StepGenerator::StepsComplete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to check if no steps are currently being commanded to the motor. </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#afa4dea531c378cbcd936e658c7c1ad6a">StepsComplete</a>()) {</div><div class="line">    <span class="comment">// No more steps are being commanded</span></div><div class="line">}</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Returns true if there is no valid current command. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The motor may still be moving after steps are done being sent. </dd></dl>

</div>
</div>
<a class="anchor" id="adf0ee47005b410ac29a3d4e200fea440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearCore::StepGenerator::VelMax </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>velMax</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum velocity for position moves, in step pulses per second. </p>
<div class="fragment"><div class="line"><span class="comment">// Set the StepGenerator&#39;s maximum velocity to 1200 step pulses/sec</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#adf0ee47005b410ac29a3d4e200fea440">VelMax</a>(1200);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">velMax</td><td>The new velocity limit </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_encoder_input_examples_2_follow_encoder_2_follow_encoder_8cpp-example.html#a9">EncoderInputExamples/FollowEncoder/FollowEncoder.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae854c54641c6d3f8b1a075c26eac04f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ClearCore::StepGenerator::VelocityRefCommanded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor for the <a class="el" href="class_clear_core_1_1_step_generator.html" title="ClearCore motor motion generator class. ">StepGenerator</a>'s momentary velocity. </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="namespace_clear_core.html#a77eb80cb3ee806db95908517f4106540">ConnectorM0</a>.<a class="code" href="class_clear_core_1_1_step_generator.html#ae854c54641c6d3f8b1a075c26eac04f4">VelocityRefCommanded</a>() &gt; 1000) {</div><div class="line">    <span class="comment">// M-0&#39;s current velocity is above 1000</span></div><div class="line">}</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Returns the momentary commanded velocity. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_step_generator_8h_source.html">StepGenerator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
