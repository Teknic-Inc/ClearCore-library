<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ClearCore Library: ClearCore::UsbManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ClearCore Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_clear_core.html">ClearCore</a></li><li class="navelem"><a class="el" href="class_clear_core_1_1_usb_manager.html">UsbManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_clear_core_1_1_usb_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ClearCore::UsbManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>USB manager Class.  
 <a href="class_clear_core_1_1_usb_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_usb_manager_8h_source.html">UsbManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0b4dfeb4f17ec34a13aa114199fe8f5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#a0b4dfeb4f17ec34a13aa114199fe8f5c">Speed</a> (uint32_t bitsPerSecond)</td></tr>
<tr class="memdesc:a0b4dfeb4f17ec34a13aa114199fe8f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the baud rate for the port.  <a href="#a0b4dfeb4f17ec34a13aa114199fe8f5c">More...</a><br /></td></tr>
<tr class="separator:a0b4dfeb4f17ec34a13aa114199fe8f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5a3a1d8a8f1b48000619180a53235f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#aef5a3a1d8a8f1b48000619180a53235f">Speed</a> ()</td></tr>
<tr class="memdesc:aef5a3a1d8a8f1b48000619180a53235f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current port speed.  <a href="#aef5a3a1d8a8f1b48000619180a53235f">More...</a><br /></td></tr>
<tr class="separator:aef5a3a1d8a8f1b48000619180a53235f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ad1775084f3acda114ac02ab9796c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#a24ad1775084f3acda114ac02ab9796c3">PortIsOpen</a> ()</td></tr>
<tr class="memdesc:a24ad1775084f3acda114ac02ab9796c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether or not the USB port is open.  <a href="#a24ad1775084f3acda114ac02ab9796c3">More...</a><br /></td></tr>
<tr class="separator:a24ad1775084f3acda114ac02ab9796c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0c14bd8802140ef036b386559be7eae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0c14bd8802140ef036b386559be7eae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PortOpen</b> ()</td></tr>
<tr class="separator:ad0c14bd8802140ef036b386559be7eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac938dcff754e98853e19002d1bff3f36"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac938dcff754e98853e19002d1bff3f36"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PortClose</b> ()</td></tr>
<tr class="separator:ac938dcff754e98853e19002d1bff3f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ba16e0a7f26c86757036700550cf47"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73ba16e0a7f26c86757036700550cf47"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FlushInput</b> ()</td></tr>
<tr class="separator:a73ba16e0a7f26c86757036700550cf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82eb70399a41971a9b3dcf0fe9e75aa9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82eb70399a41971a9b3dcf0fe9e75aa9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>WaitForWriteFinish</b> ()</td></tr>
<tr class="separator:a82eb70399a41971a9b3dcf0fe9e75aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72336c3c9eb4eda67dca3c0c050beeb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#af72336c3c9eb4eda67dca3c0c050beeb">AvailableForRead</a> ()</td></tr>
<tr class="separator:af72336c3c9eb4eda67dca3c0c050beeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5615b7a342c19b9baf344174fb730d24"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#a5615b7a342c19b9baf344174fb730d24">AvailableForWrite</a> ()</td></tr>
<tr class="memdesc:a5615b7a342c19b9baf344174fb730d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the number of characters available in the transmit buffer.  <a href="#a5615b7a342c19b9baf344174fb730d24">More...</a><br /></td></tr>
<tr class="separator:a5615b7a342c19b9baf344174fb730d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fa824d4fa991f905f0bf963460ee00"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#a53fa824d4fa991f905f0bf963460ee00">CharGet</a> ()</td></tr>
<tr class="memdesc:a53fa824d4fa991f905f0bf963460ee00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to read the next character from serial channel.  <a href="#a53fa824d4fa991f905f0bf963460ee00">More...</a><br /></td></tr>
<tr class="separator:a53fa824d4fa991f905f0bf963460ee00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e9bd39c3ff7e342b05a71759fa411e"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#ae2e9bd39c3ff7e342b05a71759fa411e">CharPeek</a> ()</td></tr>
<tr class="memdesc:ae2e9bd39c3ff7e342b05a71759fa411e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to get the next character from the serial channel without pulling the character out of the buffer.  <a href="#ae2e9bd39c3ff7e342b05a71759fa411e">More...</a><br /></td></tr>
<tr class="separator:ae2e9bd39c3ff7e342b05a71759fa411e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d2035410f30ba82cdc8336e9c382ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#a13d2035410f30ba82cdc8336e9c382ee">SendChar</a> (uint8_t charToSend)</td></tr>
<tr class="memdesc:a13d2035410f30ba82cdc8336e9c382ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an ascii character on the serial channel.  <a href="#a13d2035410f30ba82cdc8336e9c382ee">More...</a><br /></td></tr>
<tr class="separator:a13d2035410f30ba82cdc8336e9c382ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc789ca51ffed29f5c0c212e8fb1f4e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdc789ca51ffed29f5c0c212e8fb1f4e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_clear_core_1_1_usb_manager.html#abdc789ca51ffed29f5c0c212e8fb1f4e">operator bool</a> ()</td></tr>
<tr class="memdesc:abdc789ca51ffed29f5c0c212e8fb1f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether USB is connected and operational. <br /></td></tr>
<tr class="separator:abdc789ca51ffed29f5c0c212e8fb1f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74f0160ad27db1f999ff39fbbaafd10"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac74f0160ad27db1f999ff39fbbaafd10"></a>
const volatile usb_cdc_control_signal_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>LineState</b> ()</td></tr>
<tr class="separator:ac74f0160ad27db1f999ff39fbbaafd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>USB manager Class. </p>
<p>Generates a mask for all of the items in the USB_STATUS_REG_LIST. Appends the text "Mask" to the item in the list.</p>
<p>e.g. The mask for TimeoutRead is TimeoutReadMask Implements a CDC (Communications Device Class) USB device. The CDC uses an abstract control model (ACM) to emulate a serial port.</p>
<p>Reading: Upon receiving data (interrupt based), the data is copied into a circular buffer. When the buffer is full, the receipt of data is acknowledged, but not copied into the buffer. Data is drained from the buffer via the Read function. To Query the number of available bytes call Available().</p>
<p>Writing: Small transfers (less than a packet size) are copied into a buffer and sent in the background. Larger transfers are still sent in the background, but are not buffered. This means that the pointer to the data must remain valid during the sending procedure. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af72336c3c9eb4eda67dca3c0c050beeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ClearCore::UsbManager::AvailableForRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Returns number of characters waiting in the receive buffer. </p>

</div>
</div>
<a class="anchor" id="a5615b7a342c19b9baf344174fb730d24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ClearCore::UsbManager::AvailableForWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the number of characters available in the transmit buffer. </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="namespace_clear_core.html#a748569765cfde0a971ddb9eebb89e327">ConnectorCOM0</a>.<a class="code" href="class_clear_core_1_1_serial_base.html#a53c1d6342311e301c6e17fdd40cba871">AvailableForWrite</a>() &lt; 10) {</div><div class="line">    <span class="comment">// There are less than 10 free characters in COM-0&#39;s transmit buffer</span></div><div class="line">}</div></div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Returns number of free characters in transmit buffer </dd></dl>

</div>
</div>
<a class="anchor" id="a53fa824d4fa991f905f0bf963460ee00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ClearCore::UsbManager::CharGet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to read the next character from serial channel. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the first character in the serial buffer, or <a class="el" href="class_clear_core_1_1_serial_base.html#af99dc5f9e6dfcc7511b70d4cf79cb542">SerialBase::EOB</a> if no data are available. If a character is found, it will be consumed and removed from the serial buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="ae2e9bd39c3ff7e342b05a71759fa411e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ClearCore::UsbManager::CharPeek </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to get the next character from the serial channel without pulling the character out of the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the first character in the serial buffer, or <a class="el" href="class_clear_core_1_1_serial_base.html#af99dc5f9e6dfcc7511b70d4cf79cb542">SerialBase::EOB</a> if no data are available. If a character is found, it will not be consumed, and will remain in the serial buffer for reading. </dd></dl>

</div>
</div>
<a class="anchor" id="a24ad1775084f3acda114ac02ab9796c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ClearCore::UsbManager::PortIsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether or not the USB port is open. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the port is open, and false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a13d2035410f30ba82cdc8336e9c382ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ClearCore::UsbManager::SendChar </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>charToSend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an ascii character on the serial channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">charToSend</td><td>The character to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a0b4dfeb4f17ec34a13aa114199fe8f5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ClearCore::UsbManager::Speed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitsPerSecond</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the baud rate for the port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bitsPerSecond</td><td>The new speed setting </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if port accepted the speed request. </dd></dl>

</div>
</div>
<a class="anchor" id="aef5a3a1d8a8f1b48000619180a53235f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ClearCore::UsbManager::Speed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current port speed. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns port speed in bits per second. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_usb_manager_8h_source.html">UsbManager.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
