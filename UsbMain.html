<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ClearCore Library: ClearCore USB Port</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ClearCore Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> USB Port </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Overview </h1>
<p>The USB port on the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> interfaces directly with the USB native support of the ATSAMEN19A processor.</p>
<p>This configuration removes the need for a seperate USB serial port chip and provides versatility in how the device is presented to the USB host computer. It also means that since the main processor is providing the USB support, the USB device will go away and come back as the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> is powered down or reset. Since the port goes away during resets, applications that interface with the USB port should watch for port removals to avoid holding open a stale instance of the COM port.</p>
<h2>Windows Drivers </h2>
<p>Windows drivers for the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> USB port are downloadable from <a href="http://www.teknic.com/downloads">http://www.teknic.com/downloads</a>. Windows 10 users are not required to install the driver, but it is helpful so that the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> USB device appears as "Teknic ClearCore (COMxx)" instead of "USB Serial Device (COMxx)" in Device Manager.</p>
<h2>Application Operation </h2>
<p>During application operation, the USB port is presented as a serial device. Windows users will find the device listed in the Ports (COM &amp; LPT) section of Device Manager.</p>
<p>From the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> application, use the <a class="el" href="namespace_clear_core.html#a8ccd6f747ff7edf425878f3ae20b311d">ConnectorUsb</a> object to interact with the USB port serial device.</p>
<div class="fragment"><div class="line"><span class="comment">// Open the USB serial port on the device side</span></div><div class="line"><a class="code" href="namespace_clear_core.html#a8ccd6f747ff7edf425878f3ae20b311d">ConnectorUsb</a>.<a class="code" href="class_clear_core_1_1_serial_usb.html#a561c742258bb80eefd94946717144aed">PortOpen</a>();</div><div class="line"><span class="comment">// Wait for the host to open the USB serial port</span></div><div class="line"><span class="keywordflow">while</span> (!<a class="code" href="namespace_clear_core.html#a8ccd6f747ff7edf425878f3ae20b311d">ConnectorUsb</a>) {</div><div class="line">    <span class="keywordflow">continue</span>;</div><div class="line">}</div><div class="line"><a class="code" href="namespace_clear_core.html#a8ccd6f747ff7edf425878f3ae20b311d">ConnectorUsb</a>.<a class="code" href="class_clear_core_1_1_i_serial.html#a0928b2e44a4f0432f5caa72a47c3db7f">SendLine</a>(<span class="stringliteral">&quot;Serial is now connected and host is listening.&quot;</span>);</div></div><!-- fragment --><h2>Bootloader Operation </h2>
<p><a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> ships with a UF2 bootloader installed. During bootloader operation, the USB port is presented as a serial device, HID device and a Mass Storage device. This allows the device to be reprogrammed in a variety of methods that only require a USB cable.</p>
<dl class="section note"><dt>Note</dt><dd>The Application and Bootloader USB devices enumerate as different product IDs, and thus will show up as different COM ports. This allows the operation mode to be clearly identified and use different capabilities based on the mode. </dd>
<dd>
As the <a class="el" href="namespace_clear_core.html" title="Namespace to encompass the ClearCore board API. ">ClearCore</a> switches between the application COM port and the bootloader COM port, make sure you have the proper port selected.</dd></dl>
<p>See <a class="el" href="BootloaderMain.html">UF2 Bootloader</a> for more details on the bootloader operation and flashing firmware. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
